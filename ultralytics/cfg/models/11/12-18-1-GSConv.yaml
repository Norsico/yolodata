# YOLOv11n - Slim-Neck & Small Object Specialized
# æ ¸å¿ƒæ”¹åŠ¨:
# 1. Head ä¸‹é‡‡æ ·: Conv -> GSConv (è½»é‡åŒ–)
# 2. Head ç‰¹å¾èšåˆ: C3k2 -> VoVGSCSP_S (æ ¸å¿ƒé™å‚é™ç®—åŠ›æ¨¡å—)
# 3. ä¸‰è½®è½¦ä¸“çº¿: RFAConv + FrequencyGate (ä¿ç•™é«˜é¢‘ç»†èŠ‚)
# 4. ä¸Šé‡‡æ ·: DySample (ä¿æŒæ¸…æ™°åº¦)

# Parameters
nc: 6  # SODA10M ç±»åˆ«æ•°
scales: 
  n: [0.50, 0.25, 1024]  # Nano ç¼©æ”¾å› å­

# Backbone (ä¿æŒå®˜æ–¹åŽŸç‰ˆï¼Œç¡®ä¿ç‰¹å¾æå–çš„åŸºç¡€èƒ½åŠ›ä¸é™çº§)
backbone:
  - [-1, 1, Conv, [64, 3, 2]]  # 0-P1/2
  - [-1, 1, Conv, [128, 3, 2]] # 1-P2/4
  - [-1, 2, C3k2, [256, False, 0.25]]
  - [-1, 1, Conv, [256, 3, 2]] # 3-P3/8
  - [-1, 2, C3k2, [512, False, 0.25]]
  - [-1, 1, Conv, [512, 3, 2]] # 5-P4/16
  - [-1, 2, C3k2, [512, True]]
  - [-1, 1, Conv, [1024, 3, 2]] # 7-P5/32
  - [-1, 2, C3k2, [1024, True]]
  - [-1, 1, SPPF, [1024, 5]]   # 9
  - [-1, 2, C2PSA, [1024]]     # 10

# Head
head:
  # === P5 -> P4 ä¸Šé‡‡æ · ===
  - [-1, 1, DySample, [2, 'lp']] # 11
  - [[-1, 6], 1, Concat, [1]] 
  # ðŸ“‰ [é™å‚æ ¸å¿ƒ] C3k2 -> VoVGSCSP_S
  - [-1, 1, VoVGSCSP_S, [512]]   # 13 (P4 Neck)

  # === P4 -> P3 ä¸Šé‡‡æ · ===
  - [-1, 1, DySample, [2, 'lp']] # 14
  - [[-1, 4], 1, Concat, [1]] 
  # ðŸ“‰ [é™å‚æ ¸å¿ƒ] C3k2 -> VoVGSCSP_S
  - [-1, 1, VoVGSCSP_S, [256]]   # 16 (P3 Neck - ä¸»è·¯)

  # === Detail Branch (ä¸‰è½®è½¦ä¸“çº¿) ===
  # ä»Ž P2 (Layer 1) æå–é«˜åˆ†è¾¨çŽ‡ç‰¹å¾
  - [1, 1, RFAConv, [128]]       # 17
  # ä½¿ç”¨ GSConv ä¸‹é‡‡æ ·ï¼Œä¿æŒè½»é‡
  - [-1, 1, GSConv, [128, 3, 2]] # 18 (Detail Branch Output)

  # === Frequency Gate èžåˆ ===
  # èžåˆ [ä¸»è·¯ P3] å’Œ [ç»†èŠ‚è·¯ P3]
  - [[16, 18], 1, FrequencyGate, [128, 256]] # 19 (P3 æœ€ç»ˆè¾“å‡º, 256ch)

  # === P3 -> P4 ä¸‹é‡‡æ · (Neck å›žæµ) ===
  - [19, 1, GSConv, [256, 3, 2]] # 20 (ä½¿ç”¨ GSConv æ›¿ä»£ Conv)
  - [[-1, 13], 1, Concat, [1]] 
  # ðŸ“‰ [é™å‚æ ¸å¿ƒ] C3k2 -> VoVGSCSP_S
  - [-1, 1, VoVGSCSP_S, [512]]   # 22 (P4 æœ€ç»ˆè¾“å‡º)

  # === P4 -> P5 ä¸‹é‡‡æ · (Neck å›žæµ) ===
  - [-1, 1, GSConv, [512, 3, 2]] # 23 (ä½¿ç”¨ GSConv æ›¿ä»£ Conv)
  - [[-1, 10], 1, Concat, [1]] 
  # ðŸ“‰ [é™å‚æ ¸å¿ƒ] C3k2 -> VoVGSCSP_S
  - [-1, 1, VoVGSCSP_S, [1024]]  # 25 (P5 æœ€ç»ˆè¾“å‡º)

  # === Detect å¤´ ===
  - [[19, 22, 25], 1, Detect, [nc]] # 26
